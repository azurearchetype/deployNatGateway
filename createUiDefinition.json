{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Azure.CreateUIDef",
  "version": "0.1.2-preview",
  "parameters": {
    "basics": [
      {
        "name": "vnetSelector",
        "type": "Microsoft.Common.ResourceSelector",
        "label": "Select Virtual Network",
        "toolTip": "Choose an existing virtual network.",
        "resourceType": "Microsoft.Network/virtualNetworks",
        "options": {
          "filter": {
            "subscription": "current",
            "location": "current"
          },
          "select": {
            "labelField": "name",
            "valueField": "id"
          }
        },
        "constraints": {
          "required": true
        },
        "visible": true
      },
      {
        "name": "subnetSelector1",
        "type": "Microsoft.Network.SubnetSelector",
        "label": "Select First Subnet",
        "toolTip": "Choose a subnet from the selected virtual network.",
        "dependsOn": [
          "vnetSelector"
        ],
        "constraints": {
          "required": true
        },
        "visible": true
      },
      {
        "name": "subnetSelector2",
        "type": "Microsoft.Network.SubnetSelector",
        "label": "Select Second Subnet (Optional)",
        "toolTip": "Choose another subnet, if needed.",
        "dependsOn": [
          "vnetSelector"
        ],
        "constraints": {
          "required": false
        },
        "visible": true
      }
    ],
    "steps": [],
    "outputs": {
      "vnetId": "[basics('vnetSelector')]",
      "subnet1Name": "[basics('subnetSelector1')]",
      "subnet2Name": "[basics('subnetSelector2')]"
    }
  }
}
